<%-include ("partials/top") %>
  <div class="row space pb-0 mb-0 px-2 border-bottom">
    <div class="col-12 d-flex justify-content-between align-items-center underline pb-2">
      <h3 class="title">Add New Doctor</h3>
    </div>
  </div>
  <div class="row space">
    <div class="col-12">
      <form action="/doctors/new" method="POST" enctype="multipart/form-data">
        
        <div>
          <% errors.forEach(err => { %>
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <strong><%= err.msg %></strong> 
            </div>
            <script>
              $(".alert").alert();
            </script>
          <% }) %>
        </div>


        <fieldset class="border p-2 rounded row">
          <legend>Personal Details</legend>
          <div class="form-group col-md-4">
            <label>Surname: <strong class="text-danger">*</strong></label>
            <input required type="text" class="form-control" name="surname">
          </div>
          <div class="form-group col-md-4">
            <label>Other Names: <strong class="text-danger">*</strong></label>
            <input required type="text" class="form-control" name="other_names">
          </div>
          <div class="form-group col-md-4">
            <label>Phone: <strong class="text-danger">*</strong></label>
            <input required type="tel" class="form-control" name="phone">
          </div>
          <div class="form-group col-md-4">
            <label>Email: <strong class="text-danger">*</strong></label>
            <input required type="email" class="form-control" name="email">
          </div>
          <div class="form-group col-md-4">
            <label>Profile Photo: <strong class="text-danger">*</strong></label>
            <input type="file" class="form-control" name="photo" accept="image/jpeg, image/jpg, image/png">
          </div>
        </fieldset>

        <fieldset class="border p-2 rounded row">
          <legend>Career Details</legend>
          <div class="form-group col-12">
            <label>Specialization: <strong class="text-danger">*</strong></label>
            <div>
              <% departments.forEach(d => { %>
                <label class="mr-2">
                  <input type="checkbox" value='<%= d.name %>' name="specialization"> <%= d.name %>
                </label>
              <% }) %>
            </div>
          </div>
          <div class="form-group col-md-4">
            <label>Hospital: <strong class="text-danger">*</strong></label>
            <input required type="text" class="form-control" name="hospital">
          </div>
          <div class="form-group col-md-4">
            <label>Address: <strong class="text-danger">*</strong></label>
            <input required type="text" class="form-control" name="work_address">
          </div>
          <div class="form-group col-md-4">
            <label>Years of Qualification: <strong class="text-danger">*</strong></label>
            <input required type="number" class="form-control" name="years_of_experience">
          </div>
          <div class="form-group col-md-6">
            <label>Academic Qualification: <strong class="text-danger">*</strong></label>
            <textarea class="form-control" name="qualification" required placeholder="Brief description of qualification..."></textarea>
          </div>
        </fieldset>

        <fieldset class="border p-2 rounded row">
          <legend>Authentication Details</legend>
          <div class="form-group col-md-4">
            <label>Username: <strong class="text-danger">*</strong></label>
            <input required type="text" class="form-control" name="username">
          </div>
          <div class="form-group col-md-4">
            <label>Password: <strong class="text-danger">*</strong></label>
            <input required type="password" class="form-control" name="password" placeholder="*******">
          </div>
          <div class="form-group col-md-4">
            <label>Retype Password: <strong class="text-danger">*</strong></label>
            <input required type="password" class="form-control" name="retype_password" placeholder="*******">
          </div>
          
        </fieldset>

        <div class="form-group mt-4">
          <button class="btn btn-success form-control" type="submit">Create Doctor</button>
        </div>
      </form>
    </div>
  </div>

</main>

<%-include ("partials/bottom") %>